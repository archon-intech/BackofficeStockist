import{_ as y}from"./AuthenticatedLayout-CrMmzawR.js";import{_ as D}from"./Breadcrumbs-eqMAb9UO.js";import{k as l,o as C,f as w,a as e,u as m,Z as V,w as a,b as u,j as f,d,t as I,F as L}from"./app-DFg3Xq1j.js";const S={class:"mb-5"},$=u("h5",{class:"text-h5 font-weight-bold"},"People",-1),N={class:"d-flex flex-wrap align-center"},P={name:"PeopleIndex",props:{data:{type:Object}},data(){return{headers:[{title:"Name",key:"name"},{title:"Gender",key:"gender"},{title:"Email",key:"email"},{title:"Phone Number",key:"phone"},{title:"Created At",key:"created_at"},{title:"Action",key:"action",sortable:!1}],breadcrumbs:[{title:"Dashboard",disabled:!1,href:"/dashboard"},{title:"People",disabled:!0}],isLoadingTable:!1,search:null,deleteDialog:!1,isLoading:!1,deleteId:null}},methods:{loadItems({page:n,itemsPerPage:t,sortBy:s,search:r}){this.isLoadingTable=!0;var i={page:n,limit:t,sort:s[0]};r&&(i.search=r),this.$inertia.get("/people",i,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoadingTable=!1}})},deleteItem(n){this.deleteId=n.id,this.deleteDialog=!0},submitDelete(){this.isLoading=!0,this.$inertia.delete(`/people/${this.deleteId}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoading=!1,this.deleteDialog=!1}})}}},B=Object.assign(P,{setup(n){return(t,s)=>{const r=l("v-text-field"),i=l("v-spacer"),c=l("v-btn"),p=l("v-icon"),h=l("v-data-table-server"),_=l("v-card"),g=l("v-card-text"),v=l("v-card-actions"),b=l("v-dialog"),k=l("v-row");return C(),w(L,null,[e(m(V),{title:"People"}),e(y,null,{default:a(()=>[u("div",S,[$,e(D,{items:t.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),e(_,{class:"pa-4"},{default:a(()=>[u("div",N,[e(r,{modelValue:t.search,"onUpdate:modelValue":s[0]||(s[0]=o=>t.search=o),label:"Search",variant:"underlined","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"","single-line":""},null,8,["modelValue"]),e(i),e(m(f),{href:"/people/create",as:"div"},{default:a(()=>[e(c,{color:"primary"},{default:a(()=>[d("Create")]),_:1})]),_:1})]),e(h,{items:n.data.data,"items-length":n.data.total,headers:t.headers,search:t.search,class:"elevation-0",loading:t.isLoadingTable,"onUpdate:options":t.loadItems},{"item.gender":a(({item:o})=>[d(I(o.gender=="male"?"Male":"Female"),1)]),"item.action":a(({item:o})=>[e(m(f),{href:`/people/${o.id}/edit`,as:"button"},{default:a(()=>[e(p,{color:"warning",icon:"mdi-pencil",size:"small"})]),_:2},1032,["href"]),e(p,{class:"ml-2",color:"error",icon:"mdi-delete",size:"small",onClick:T=>t.deleteItem(o)},null,8,["onClick"])]),_:2},1032,["items","items-length","headers","search","loading","onUpdate:options"])]),_:1}),e(k,{justify:"center"},{default:a(()=>[e(b,{modelValue:t.deleteDialog,"onUpdate:modelValue":s[2]||(s[2]=o=>t.deleteDialog=o),persistent:"",width:"auto"},{default:a(()=>[e(_,null,{default:a(()=>[e(g,null,{default:a(()=>[d("Are you sure you want to delete this item?")]),_:1}),e(v,null,{default:a(()=>[e(i),e(c,{color:"error",text:"",onClick:s[1]||(s[1]=o=>t.deleteDialog=!1)},{default:a(()=>[d("Cancel")]),_:1}),e(c,{color:"primary",loading:t.isLoading,text:"",onClick:t.submitDelete},{default:a(()=>[d("Delete")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}});export{B as default};
