import{_ as w}from"./AuthenticatedLayout-CrMmzawR.js";import{_ as S}from"./Breadcrumbs-eqMAb9UO.js";import{k as i,o as _,f as M,a,u as v,Z as I,w as t,b as u,d as c,t as h,c as g,j as b,F as C}from"./app-DFg3Xq1j.js";const V={class:"mb-5"},L=u("h5",{class:"text-h5 font-weight-bold"},"Manufacture",-1),T={class:"d-flex flex-wrap align-center"},A={style:{"white-space":"nowrap"}},N={style:{"white-space":"nowrap"}},F={name:"ManufactureIndex",props:{data:{type:Object}},data(){return{headers:[{title:"Name",key:"name"},{title:"Address",key:"address"},{title:"No Telp",key:"telp"},{title:"PIC",key:"pic"},{title:"Action",key:"action",sortable:!1}],breadcrumbs:[{title:"Dashboard",disabled:!1,href:"/dashboard"},{title:"Manufacture",disabled:!0}],isLoadingTable:!1,search:null,deleteDialog:!1,isLoading:!1,deleteId:null}},methods:{loadItems({page:n,itemsPerPage:e,sortBy:l,search:m}){this.isLoadingTable=!0;var r={page:n,limit:e,sort:l[0]};m&&(r.search=m),this.$inertia.get("/manufacture",r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoadingTable=!1}})},deleteItem(n){this.deleteId=n.id,this.deleteDialog=!0},submitDelete(){this.isLoading=!0,this.$inertia.delete(`/manufacture/${this.deleteId}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoading=!1,this.deleteDialog=!1}})},formatDate(n){const e=new Date(n),l=e.getDate().toString().padStart(2,"0"),m=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear(),s=e.getHours().toString().padStart(2,"0"),d=e.getMinutes().toString().padStart(2,"0");return`${l}-${m}-${r} ${s}:${d}`},formatDate2(n){const e=new Date(n),m=new Date-e,r=Math.floor(m/1e3),s=Math.floor(r/60),d=Math.floor(s/60),f=Math.floor(d/24),p=Math.floor(f/30);return p>0?`${p} months ago`:f>0?`${f} days ago`:d>0?`${d} hours ago`:s>0?`${s} minutes ago`:`${r} seconds ago`}}},H=Object.assign(F,{setup(n){return(e,l)=>{const m=i("v-text-field"),r=i("v-spacer"),s=i("v-btn"),d=i("v-icon"),f=i("v-data-table-server"),p=i("v-card"),y=i("v-card-text"),k=i("v-card-actions"),D=i("v-dialog"),$=i("v-row");return _(),M(C,null,[a(v(I),{title:"Manufacture"}),a(w,null,{default:t(()=>[u("div",V,[L,a(S,{items:e.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),a(p,{class:"pa-4"},{default:t(()=>[u("div",T,[a(m,{modelValue:e.search,"onUpdate:modelValue":l[0]||(l[0]=o=>e.search=o),label:"Search",variant:"underlined","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"","single-line":""},null,8,["modelValue"]),a(r),a(s,{color:"primary"},{default:t(()=>[c("Filter")]),_:1})]),a(f,{items:n.data.data,"items-length":n.data.total,headers:e.headers,search:e.search,class:"elevation-0",loading:e.isLoadingTable,"onUpdate:options":e.loadItems},{"item.user.email":t(({item:o})=>[u("div",null,h(o.user.email),1),u("div",null,h(o.user.phone),1)]),"item.user.created_at":t(({item:o})=>[u("div",A,h(e.formatDate(o.user.created_at)),1),u("div",N,h(e.formatDate2(o.user.created_at)),1)]),"item.user.is_blocked":t(({item:o})=>[u("div",null,[o.user.is_blocked===0?(_(),g(s,{key:0,color:"success"},{default:t(()=>[c("Active")]),_:1})):(_(),g(s,{key:1,color:"error"},{default:t(()=>[c("Inactive")]),_:1}))])]),"item.store.id":t(({item:o})=>[u("div",null,[o.store?(_(),g(s,{key:0,color:"success"},{default:t(()=>[c("Available")]),_:1})):(_(),g(s,{key:1,color:"error"},{default:t(()=>[c("Not Available")]),_:1}))])]),"item.gender":t(({item:o})=>[c(h(o.gender=="male"?"Male":"Female"),1)]),"item.action":t(({item:o})=>[a(v(b),{href:`/manufacture/${o.id}/edit`,as:"button"},{default:t(()=>[a(d,{color:"warning",icon:"mdi-pencil",size:"small"})]),_:2},1032,["href"]),a(v(b),{href:`/manufacture/${o.id}/edit`,as:"button"},{default:t(()=>[a(d,{color:"info",icon:"mdi-eye",size:"small"})]),_:2},1032,["href"]),a(d,{class:"ml-2",color:"error",icon:"mdi-delete",size:"small",onClick:j=>e.deleteItem(o)},null,8,["onClick"])]),_:2},1032,["items","items-length","headers","search","loading","onUpdate:options"])]),_:1}),a($,{justify:"center"},{default:t(()=>[a(D,{modelValue:e.deleteDialog,"onUpdate:modelValue":l[2]||(l[2]=o=>e.deleteDialog=o),persistent:"",width:"auto"},{default:t(()=>[a(p,null,{default:t(()=>[a(y,null,{default:t(()=>[c("Are you sure you want to delete this item?")]),_:1}),a(k,null,{default:t(()=>[a(r),a(s,{color:"error",text:"",onClick:l[1]||(l[1]=o=>e.deleteDialog=!1)},{default:t(()=>[c("Cancel")]),_:1}),a(s,{color:"primary",loading:e.isLoading,text:"",onClick:e.submitDelete},{default:t(()=>[c("Delete")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}});export{H as default};
