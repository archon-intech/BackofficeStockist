import{_ as S}from"./AuthenticatedLayout-CrMmzawR.js";import{_ as $}from"./Breadcrumbs-eqMAb9UO.js";import{k as d,o as k,f as x,a as t,u as h,Z as B,w as a,b as l,j as v,d as f,t as p,F as L}from"./app-DFg3Xq1j.js";const C={class:"mb-5"},M=l("h5",{class:"text-h5 font-weight-bold"},"Barcode",-1),V={class:"d-flex flex-wrap align-center"},I={style:{display:"flex","flex-direction":"row",gap:"10px"}},T={style:{display:"flex","align-items":"center"}},A=l("span",{style:{"margin-left":"5px"}},"TOTAL 442 Barcode",-1),z=l("div",{style:{display:"flex","align-items":"center"}},[l("span",{style:{"margin-left":"5px"}},"Rp 287,300,000")],-1),O={style:{display:"flex","align-items":"center"}},j=l("span",{style:{"margin-left":"5px"}},"AVAILABLE 442 Barcode",-1),U=l("div",{style:{display:"flex","align-items":"center"}},[l("span",{style:{"margin-left":"5px"}},"Rp 287,300,000")],-1),F={style:{display:"flex","align-items":"center"}},H=l("span",{style:{"margin-left":"5px"}}," SOLD 94 Barcode",-1),N=l("div",{style:{display:"flex","align-items":"center"}},[l("span",{style:{"margin-left":"5px"}},"Rp 61,100,000")],-1),R={name:"BarcodeIndex",props:{data:{type:Object}},data(){return{headers:[{title:"Code",key:"code"},{title:"Type",key:"type"},{title:"Creator",key:"creator.name"},{title:"Seller",key:"seller.name"},{title:"Owner",key:"owner.name"},{title:"Action",key:"action",sortable:!1}],breadcrumbs:[{title:"Dashboard",disabled:!1,href:"/dashboard"},{title:"Barcode",disabled:!0}],isLoadingTable:!1,search:null,deleteDialog:!1,isLoading:!1,deleteId:null}},methods:{loadItems({page:o,itemsPerPage:e,sortBy:n,search:u}){this.isLoadingTable=!0;var r={page:o,limit:e,sort:n[0]};u&&(r.search=u),this.$inertia.get("/barcode",r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoadingTable=!1}})},deleteItem(o){this.deleteId=o.id,this.deleteDialog=!0},submitDelete(){this.isLoading=!0,this.$inertia.delete(`/barcode/${this.deleteId}`,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{this.isLoading=!1,this.deleteDialog=!1}})},formatDate(o){if(!o)return"";const e=new Date(o),n=e.getDate().toString().padStart(2,"0"),u=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear(),c=e.getHours().toString().padStart(2,"0"),i=e.getMinutes().toString().padStart(2,"0");return`${n}-${u}-${r} ${c}:${i}`},formatDate2(o){if(!o)return"";const e=new Date(o),u=new Date-e,r=Math.floor(u/1e3),c=Math.floor(r/60),i=Math.floor(c/60),m=Math.floor(i/24),g=Math.floor(m/30);return g>0?`${g} months ago`:m>0?`${m} days ago`:i>0?`${i} hours ago`:c>0?`${c} minutes ago`:`${r} seconds ago`},addThousandSeparator(o){return o===null?"":o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},q=Object.assign(R,{setup(o){return(e,n)=>{const u=d("v-text-field"),r=d("v-spacer"),c=d("v-btn"),i=d("v-icon"),m=d("v-card"),g=d("v-data-table-server"),y=d("v-card-text"),b=d("v-card-actions"),w=d("v-dialog"),D=d("v-row");return k(),x(L,null,[t(h(B),{title:"Barcode"}),t(S,null,{default:a(()=>[l("div",C,[M,t($,{items:e.breadcrumbs,class:"pa-0 mt-1"},null,8,["items"])]),t(m,{class:"pa-4"},{default:a(()=>[l("div",V,[t(u,{modelValue:e.search,"onUpdate:modelValue":n[0]||(n[0]=s=>e.search=s),label:"Search",variant:"underlined","prepend-inner-icon":"mdi-magnify","hide-details":"",clearable:"","single-line":""},null,8,["modelValue"]),t(r),t(h(v),{href:"/barcode/create",as:"div"},{default:a(()=>[t(c,{color:"primary"},{default:a(()=>[f("Create")]),_:1})]),_:1})]),l("div",I,[t(m,{width:"400"},{title:a(()=>[l("div",T,[t(i,{color:"primary",size:"small",style:{"vertical-align":"middle"}},{default:a(()=>[f("mdi-barcode")]),_:1}),A])]),subtitle:a(()=>[z]),_:1}),t(m,{width:"400"},{title:a(()=>[l("div",O,[t(i,{color:"success",size:"small",style:{"vertical-align":"middle"}},{default:a(()=>[f("mdi-barcode")]),_:1}),j])]),subtitle:a(()=>[U]),_:1}),t(m,{width:"400"},{title:a(()=>[l("div",F,[t(i,{color:"warning",size:"small",style:{"vertical-align":"middle"}},{default:a(()=>[f("mdi-barcode")]),_:1}),H])]),subtitle:a(()=>[N]),_:1})]),t(g,{items:o.data.data,"items-length":o.data.total,headers:e.headers,search:e.search,class:"elevation-0",loading:e.isLoadingTable,"onUpdate:options":e.loadItems},{"item.code":a(({item:s})=>[l("div",null,p(s.code),1),l("div",null,p(s.variant),1)]),"item.creator.name":a(({item:s})=>[l("div",null,p(s.creator.name),1),l("div",null,p(e.formatDate(s.created_at)),1)]),"item.seller.name":a(({item:s})=>{var _;return[l("div",null,p((_=s.seller)==null?void 0:_.name),1),l("div",null,p(e.formatDate(s.sold_at)),1)]}),"item.owner.name":a(({item:s})=>{var _;return[l("div",null,p((_=s.owner)==null?void 0:_.name),1),l("div",null,p(e.formatDate(s.owned_at)),1)]}),"item.action":a(({item:s})=>[t(h(v),{href:`/barcode/${s.id}`,as:"button",title:"History"},{default:a(()=>[t(i,{color:"info",icon:"mdi-history",size:"small"})]),_:2},1032,["href"]),t(i,{class:"ml-2",color:"error",icon:"mdi-delete",title:"Delete",size:"small",onClick:_=>e.deleteItem(s)},null,8,["onClick"])]),_:2},1032,["items","items-length","headers","search","loading","onUpdate:options"])]),_:1}),t(D,{justify:"center"},{default:a(()=>[t(w,{modelValue:e.deleteDialog,"onUpdate:modelValue":n[2]||(n[2]=s=>e.deleteDialog=s),persistent:"",width:"auto"},{default:a(()=>[t(m,null,{default:a(()=>[t(y,null,{default:a(()=>[f("Are you sure you want to delete this item?")]),_:1}),t(b,null,{default:a(()=>[t(r),t(c,{color:"error",text:"",onClick:n[1]||(n[1]=s=>e.deleteDialog=!1)},{default:a(()=>[f("Cancel")]),_:1}),t(c,{color:"primary",loading:e.isLoading,text:"",onClick:e.submitDelete},{default:a(()=>[f("Delete")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}});export{q as default};
